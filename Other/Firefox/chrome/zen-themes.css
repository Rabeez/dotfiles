/* Zen Mods - Generated by ZenMods.
* FILE GENERATED AT: Saturday, August 2, 2025 at 12:55:37 PM Gulf Standard Time
* DO NOT EDIT THIS FILE DIRECTLY!
* Your changes will be overwritten.
* Instead, go to the preferences and edit the mods there.
*/

/* Name: Customize Font Size */
/* Description: Configure Zen Browser's UI font sizes. */
/* Author: @joadr */
@-moz-document url-prefix("chrome:") {
  #tabbrowser-tabs {
    font-size: var(--cfs-font-size-tabbar-tabs) !important;
  }
  
  #zen-current-workspace-indicator-name {
    font-size: var(--cfs-font-size-workspace-title) !important;
  }
  
  .findbar-container {
    font-size: var(--cfs-font-size-searchbar) !important;
  }
  
  .zen-workspace-icon {
    font-size: var(--cfs-icon-size-footer) !important;
  }
  
}
/* Name: Private Mode Highlighting */
/* Description: This theme adds extra theming and an icon to the main toolbar of any private browsing window. */
/* Author: @danm36 */
@-moz-document url-prefix("chrome:") {
  /**
   * This Zen theme adds additional styling to the private browsing mode window such as a gradient on the toolbar,
   * a border around the browser page, and an icon in the URL bar. These are configurable in the Zen Mods settings.
   *
   * The --pbmh prefix stands for Private Browsing Mode Highlighting.
   */
  
  /*******************************************\
   * Base variables.
  \*******************************************/
  
  :root {
    --pbmh-private-browsing-mode-base-color: #32064e;
    --pbmh-private-browsing-mode-gradient-stop-color: rgb(
      from var(--pbmh-private-browsing-mode-color) r g b / 0%
    );
    --pbmg-private-browsing-mode-gradient-stop-position: 50px;
    --pbmg-private-browsing-mode-border-size: 2px;
  }
  
  /*******************************************\
   * Topbar highlighting.
  \*******************************************/
  
  :root:has(
      #theme-Private-Mode-Highlighting[uc-private-browsing-top-bar-color="match-zen"]
    ) {
    --pbmh-private-browsing-mode-base-color: oklch(
      from var(--zen-primary-color) calc(l - 0.5) c h
    );
  }
  :root:has(
      #theme-Private-Mode-Highlighting[uc-private-browsing-top-bar-color="blue"]
    ) {
    --pbmh-private-browsing-mode-base-color: oklch(
      from #aac7ff calc(l - 0.5) c h
    );
  }
  :root:has(
      #theme-Private-Mode-Highlighting[uc-private-browsing-top-bar-color="teal"]
    ) {
    --pbmh-private-browsing-mode-base-color: oklch(
      from #74d7cb calc(l - 0.5) c h
    );
  }
  :root:has(
      #theme-Private-Mode-Highlighting[uc-private-browsing-top-bar-color="green"]
    ) {
    --pbmh-private-browsing-mode-base-color: oklch(
      from #a0d490 calc(l - 0.5) c h
    );
  }
  :root:has(
      #theme-Private-Mode-Highlighting[uc-private-browsing-top-bar-color="yellow"]
    ) {
    --pbmh-private-browsing-mode-base-color: oklch(
      from #dec663 calc(l - 0.5) c h
    );
  }
  :root:has(
      #theme-Private-Mode-Highlighting[uc-private-browsing-top-bar-color="orange"]
    ) {
    --pbmh-private-browsing-mode-base-color: oklch(
      from #ffb787 calc(l - 0.5) c h
    );
  }
  :root:has(
      #theme-Private-Mode-Highlighting[uc-private-browsing-top-bar-color="brown"]
    ) {
    --pbmh-private-browsing-mode-base-color: oklch(
      from #dec1b1 calc(l - 0.5) c h
    );
  }
  :root:has(
      #theme-Private-Mode-Highlighting[uc-private-browsing-top-bar-color="red"]
    ) {
    --pbmh-private-browsing-mode-base-color: oklch(
      from #ffb1c0 calc(l - 0.5) c h
    );
  }
  :root:has(
      #theme-Private-Mode-Highlighting[uc-private-browsing-top-bar-color="pink"]
    ) {
    --pbmh-private-browsing-mode-base-color: oklch(
      from #f6b0ea calc(l - 0.5) c h
    );
  }
  
  :root {
    --pbmh-private-browsing-mode-color: var(
      --pbmh-private-browsing-mode-base-color
    );
    --pbmh-private-browsing-mode-border: oklch(
      from var(--pbmh-private-browsing-mode-color) calc(l + 0.2) c h
    );
  
    &:where([lwt-toolbar="light"]) {
      --pbmh-private-browsing-mode-color: oklch(
        from var(--pbmh-private-browsing-mode-base-color) calc(l + 0.45)
          calc(c + 0.05) h
      );
      --pbmh-private-browsing-mode-border: oklch(
        from var(--pbmh-private-browsing-mode-color) calc(l - 0.2) c h
      );
    }
  }
  
  :root:has(
      #theme-Private-Mode-Highlighting[uc-private-browsing-top-bar-highlighting-style="solid"]
    ) {
    --pbmh-private-browsing-mode-gradient-stop-color: var(
      --pbmh-private-browsing-mode-color
    );
  }
  
  :root:has(
      #theme-Private-Mode-Highlighting[uc-private-browsing-top-bar-highlighting-style]:not(
          [uc-private-browsing-top-bar-highlighting-style="none"]
        )
    ) {
    &[privatebrowsingmode] #browser {
      background-image: linear-gradient(
        to bottom,
        var(--pbmh-private-browsing-mode-color),
        var(--pbmh-private-browsing-mode-gradient-stop-color)
          var(--pbmg-private-browsing-mode-gradient-stop-position),
        transparent
          calc(var(--pbmg-private-browsing-mode-gradient-stop-position) + 1px)
      ) !important;
    }
  }
  
  /*******************************************\
   * Viewport border styling.
  \*******************************************/
  
  :root:has(
      #theme-Private-Mode-Highlighting[uc-private-browsing-top-bar-border-style="thin"]
    ) {
    --pbmg-private-browsing-mode-border-size: 1px;
  }
  
  :root[privatebrowsingmode]:not([inDOMFullscreen="true"]):not(
      [chromehidden~="location"]
    ):not([chromehidden~="toolbar"]):has(
      #theme-Private-Mode-Highlighting[uc-private-browsing-top-bar-border-style]:not(
          [uc-private-browsing-top-bar-border-style="none"]
        )
    ) {
    & #tabbrowser-tabbox #tabbrowser-tabpanels .browserSidebarContainer {
      box-shadow: 0 0 0 var(--pbmg-private-browsing-mode-border-size)
        var(--pbmh-private-browsing-mode-border) !important;
    }
  }
  
  /*******************************************\
   * Private Browsing Mode Icon styling.
  \*******************************************/
  
  @media not (-moz-bool-pref: "uc.private-browsing-top-bar.hide-icon") {
    [privatebrowsingmode] #zen-profile-button {
      position: relative;
    }
  
    [privatebrowsingmode] #zen-profile-button::after {
      content: "";
      position: absolute;
      left: calc(100% + 1em);
      top: 25%;
      bottom: 25%;
      aspect-ratio: 1;
      width: auto;
      height: auto;
      border-radius: 100%;
      background-color: oklch(
        from var(--pbmh-private-browsing-mode-base-color) calc(l + 0.05)
          calc(c + 0.2) h
      );
      background-image: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48c3R5bGU+KntmaWxsOm5vbmU7c3Ryb2tlOiNGRkZGRkY7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOjEuOTJweDt9PC9zdHlsZT48L2RlZnM+PHBvbHlsaW5lIHBvaW50cz0iMC41IDExLjA0IDEyIDExLjA0IDIzLjUgMTEuMDQiLz48cGF0aCBkPSJNMTkuNjcsMTFINC4zM0w1LDQuNjhBMi41NCwyLjU0LDAsMCwxLDcuNTcsMi40MmgwYTIuNDcsMi40NywwLDAsMSwxLjEzLjI3aDBhNy40Myw3LjQzLDAsMCwwLDYuNiwwaDBhMi40NywyLjQ3LDAsMCwxLDEuMTMtLjI3aDBBMi41NCwyLjU0LDAsMCwxLDE5LDQuNjhaIi8+PGNpcmNsZSBjeD0iNi43MyIgY3k9IjE4LjIzIiByPSIzLjM1Ii8+PGNpcmNsZSBjeD0iMTcuMjciIGN5PSIxOC4yMyIgcj0iMy4zNSIvPjxwYXRoIGQ9Ik0xMC4wOCwxOC43MWExLjkyLDEuOTIsMCwxLDEsMy44NCwwIi8+PGxpbmUgeDE9IjEuNDYiIHkxPSIxNS44MyIgeDI9IjQuMzMiIHkyPSIxNS44MyIvPjxsaW5lIHgxPSIxOS42NyIgeTE9IjE1LjgzIiB4Mj0iMjIuNTQiIHkyPSIxNS44MyIvPjwvc3ZnPg==");
      background-repeat: no-repeat;
      background-position: center center;
      background-size: 65%;
      pointer-events: none;
    }
  }
  
}
/* Name: Only Close On Hover */
/* Description: Show tab's close button only on hover, even on the active tab. */
/* Author: @p-sw */
@-moz-document url-prefix("chrome:") {
  #tabbrowser-tabs
    .tabbrowser-tab:not([pinned]):is([visuallyselected]):not(:hover)
    .tab-close-button {
    display: none !important;
  }
  
}
/* Name: Floating Status Bar */
/* Description: Mod for Zen Browser that detaches the status bar from the bottom left corner of the browser window. */
/* Author: @AmirhBeigi */
@-moz-document url-prefix("chrome:") {
  #statuspanel {
    margin: 10px !important;
  }
  
  #statuspanel-label {
    border-radius: 10000px !important;
    padding: 2px 10px !important;
    border: 1px solid var(--zen-colors-border) !important;
    background: var(--zen-colors-tertiary) !important;
  }
  
}
/* Name: No Search Shortcut Icons */
/* Description: Hides search shortcuts in the Zen browser URL bar, showing them only when the bar is focused. */
/* Author: @itsfaizankhan */
@-moz-document url-prefix("chrome:") {
  .search-one-offs {
    display: none !important;
  }
  
  .search-one-offs:has(.searchbar-engine-one-off-item[selected]) {
    display: flex !important;
  }
  
}
/* Name: No Gaps */
/* Description: Removes the gaps in single-tab view. */
/* Author: @Peleret */
@-moz-document url-prefix("chrome:") {
  @media (-moz-bool-pref: "theme.no_gaps.split.gaps") and (-moz-bool-pref: "theme.no_gaps.fixes.center_split_view") {
    #zen-appcontent-wrapper:has(
        > #zen-tabbox-wrapper
          > #tabbrowser-tabbox
          > #tabbrowser-tabpanels[zen-split-view="true"]
      )
      > #zen-tabbox-wrapper {
      margin-top: 1px !important;
      margin-bottom: 5px !important;
      margin-right: 7px !important;
  
      :root[zen-compact-mode="true"] & {
        @media (-moz-bool-pref: "zen.view.compact.hide-toolbar") {
          margin-top: -3px !important;
        }
        @media (-moz-bool-pref: "zen.view.compact.hide-tabbar") {
          margin-left: -3px !important;
        }
      }
    }
  }
  
  :root[zen-single-toolbar="true"]:not([customizing]) {
    @media (-moz-bool-pref: "zen.view.hide-window-controls") {
      @media (-moz-bool-pref: "theme.no_gaps.single_toolbar.disable_navbar") {
        @media (-moz-bool-pref: "theme.no_gaps.split.single_toolbar.disable_navbar") {
          #zen-appcontent-navbar-container {
            display: none !important;
          }
        }
  
        @media not (-moz-bool-pref: "theme.no_gaps.split.single_toolbar.disable_navbar") {
          #zen-appcontent-wrapper:has(
              > #zen-tabbox-wrapper
                > #tabbrowser-tabbox
                > #tabbrowser-tabpanels:not([zen-split-view="true"])
            )
            > #zen-appcontent-navbar-container {
            display: none !important;
          }
  
          @media (-moz-bool-pref: "theme.no_gaps.split.single_toolbar.hide_navbar") {
            #zen-appcontent-wrapper:has(
                > #zen-tabbox-wrapper
                  > #tabbrowser-tabbox
                  > #tabbrowser-tabpanels[zen-split-view="true"]
              ) {
              height: calc(100% + var(--zen-element-separation));
              transition: height 0.2s ease;
  
              & > #zen-tabbox-wrapper {
                top: calc(-1 * var(--zen-element-separation));
                z-index: -1 !important;
                transition: top 0.2s ease;
              }
  
              &:not(
                  :has(
                      > #zen-appcontent-navbar-container:not(
                          [zen-has-hover="true"],
                          [has-popup-menu],
                          :focus-within
                        )
                    )
                )
                > #zen-tabbox-wrapper {
                top: 0;
              }
            }
          }
        }
      }
  
      @media not (-moz-bool-pref: "theme.no_gaps.single_toolbar.disable_navbar") {
        @media (-moz-bool-pref: "theme.no_gaps.split.single_toolbar.disable_navbar") {
          #zen-appcontent-wrapper:has(
              > #zen-tabbox-wrapper
                > #tabbrowser-tabbox
                > #tabbrowser-tabpanels[zen-split-view="true"]
            )
            > #zen-appcontent-navbar-container {
            display: none !important;
          }
  
          @media (-moz-bool-pref: "theme.no_gaps.single_toolbar.hide_navbar") {
            #zen-appcontent-wrapper:has(
                > #zen-tabbox-wrapper
                  > #tabbrowser-tabbox
                  > #tabbrowser-tabpanels:not([zen-split-view="true"])
              ) {
              height: calc(100% + var(--zen-element-separation));
              transition: height 0.2s ease;
  
              & > #zen-tabbox-wrapper {
                top: calc(-1 * var(--zen-element-separation));
                z-index: -1 !important;
                transition: top 0.2s ease;
              }
  
              &:not(
                  :has(
                      > #zen-appcontent-navbar-container:not(
                          [zen-has-hover="true"],
                          [has-popup-menu],
                          :focus-within
                        )
                    )
                )
                > #zen-tabbox-wrapper {
                top: 0;
              }
            }
          }
        }
  
        @media not (-moz-bool-pref: "theme.no_gaps.split.single_toolbar.disable_navbar") {
          @media (-moz-bool-pref: "theme.no_gaps.single_toolbar.hide_navbar") {
            @media (-moz-bool-pref: "theme.no_gaps.split.single_toolbar.hide_navbar") {
              #zen-appcontent-wrapper {
                height: calc(100% + var(--zen-element-separation));
                transition: height 0.2s ease;
  
                & > #zen-tabbox-wrapper {
                  top: calc(-1 * var(--zen-element-separation));
                  z-index: -1 !important;
                  transition: top 0.2s ease;
                }
  
                &:not(
                    :has(
                        > #zen-appcontent-navbar-container:not(
                            [zen-has-hover="true"],
                            [has-popup-menu],
                            :focus-within
                          )
                      )
                  )
                  > #zen-tabbox-wrapper {
                  top: 0;
                }
              }
            }
            @media not (-moz-bool-pref: "theme.no_gaps.split.single_toolbar.hide_navbar") {
              #zen-appcontent-wrapper:has(
                  > #zen-tabbox-wrapper
                    > #tabbrowser-tabbox
                    > #tabbrowser-tabpanels:not([zen-split-view="true"])
                ) {
                height: calc(100% + var(--zen-element-separation));
                transition: height 0.2s ease;
  
                & > #zen-tabbox-wrapper {
                  top: calc(-1 * var(--zen-element-separation));
                  z-index: -1 !important;
                  transition: top 0.2s ease;
                }
  
                &:not(
                    :has(
                        > #zen-appcontent-navbar-container:not(
                            [zen-has-hover="true"],
                            [has-popup-menu],
                            :focus-within
                          )
                      )
                  )
                  > #zen-tabbox-wrapper {
                  top: 0;
                }
              }
            }
          }
  
          @media not (-moz-bool-pref: "theme.no_gaps.single_toolbar.hide_navbar") {
            @media (-moz-bool-pref: "theme.no_gaps.split.single_toolbar.hide_navbar") {
              #zen-appcontent-wrapper:has(
                  > #zen-tabbox-wrapper
                    > #tabbrowser-tabbox
                    > #tabbrowser-tabpanels[zen-split-view="true"]
                ) {
                height: calc(100% + var(--zen-element-separation));
                transition: height 0.2s ease;
  
                & > #zen-tabbox-wrapper {
                  top: calc(-1 * var(--zen-element-separation));
                  z-index: -1 !important;
                  transition: top 0.2s ease;
                }
                &:not(
                    :has(
                        > #zen-appcontent-navbar-container:not(
                            [zen-has-hover="true"],
                            [has-popup-menu],
                            :focus-within
                          )
                      )
                  )
                  > #zen-tabbox-wrapper {
                  top: 0;
                }
              }
            }
          }
        }
      }
    }
  }
  
  @media not (-moz-bool-pref: "theme.no_gaps.split.outline") {
    hbox.browserSidebarContainer {
      outline: none !important;
    }
  }
  
  @media not (-moz-bool-pref: "theme.no_gaps.shadow") {
    @media not (-moz-bool-pref: "theme.no_gaps.split.shadow") {
      hbox.browserSidebarContainer {
        box-shadow: none !important;
      }
    }
  
    @media (-moz-bool-pref: "theme.no_gaps.split.shadow") {
      hbox.browserSidebarContainer:not([zen-split="true"]) {
        box-shadow: none !important;
      }
    }
  }
  
  @media (-moz-bool-pref: "theme.no_gaps.shadow") {
    @media not (-moz-bool-pref: "theme.no_gaps.split.shadow") {
      hbox.browserSidebarContainer[zen-split="true"] {
        box-shadow: none !important;
      }
    }
  }
  
  @media not (-moz-bool-pref: "theme.no_gaps.rounded_corners") {
    @media not (-moz-bool-pref: "theme.no_gaps.split.rounded_corners") {
      #tabbrowser-tabpanels .browserSidebarContainer {
        border-radius: 0 !important;
      }
    }
  
    @media (-moz-bool-pref: "theme.no_gaps.split.rounded_corners") {
      #tabbrowser-tabpanels:not([zen-split-view="true"]) .browserSidebarContainer {
        border-radius: 0 !important;
      }
    }
  }
  
  @media (-moz-bool-pref: "theme.no_gaps.rounded_corners") {
    @media not (-moz-bool-pref: "theme.no_gaps.split.rounded_corners") {
      #tabbrowser-tabpanels[zen-split-view="true"] .browserSidebarContainer {
        border-radius: 0 !important;
      }
    }
  }
  
  @media not (-moz-bool-pref: "theme.no_gaps.gaps") {
    hbox.browserSidebarContainer:not([zen-split="true"]) {
      margin: 0 !important;
    }
  
    @media not (-moz-bool-pref: "theme.no_gaps.split.gaps") {
      tabbox#tabbrowser-tabbox {
        --zen-split-row-gap: 0 !important;
        --zen-split-column-gap: 0 !important;
      }
  
      div.zen-split-view-splitter[orient="vertical"] {
        margin-left: calc(-1 * var(--zen-element-separation) + 1px) !important;
      }
  
      div.zen-split-view-splitter[orient="horizontal"] {
        height: calc(var(--zen-element-separation) * 2 - 3px) !important;
        margin-top: calc(-1 * var(--zen-element-separation) + 1px) !important;
      }
  
      #zen-appcontent-wrapper {
        margin: 0 !important;
      }
      #zen-tabbox-wrapper {
        margin: 0 !important;
      }
  
      @media (-moz-bool-pref: "theme.no_gaps.split.outline") {
        hbox.browserSidebarContainer[zen-split="true"] {
          margin: 1px !important;
        }
      }
    }
  
    @media (-moz-bool-pref: "theme.no_gaps.split.gaps") {
      #zen-appcontent-wrapper:not(
          :has(
              > #zen-tabbox-wrapper
                > #tabbrowser-tabbox
                > #tabbrowser-tabpanels[zen-split-view="true"]
            )
        ) {
        margin: 0 !important;
  
        & > #zen-tabbox-wrapper {
          margin: 0 !important;
        }
      }
    }
  }
  
  @media (-moz-bool-pref: "theme.no_gaps.gaps") {
    @media not (-moz-bool-pref: "theme.no_gaps.split.gaps") {
      tabbox#tabbrowser-tabbox {
        --zen-split-row-gap: 0 !important;
        --zen-split-column-gap: 0 !important;
      }
  
      div.zen-split-view-splitter[orient="vertical"] {
        margin-left: calc(-1 * var(--zen-element-separation) + 1px) !important;
      }
  
      div.zen-split-view-splitter[orient="horizontal"] {
        height: calc(var(--zen-element-separation) * 2 - 3px) !important;
        margin-top: calc(-1 * var(--zen-element-separation) + 1px) !important;
      }
  
      @media (-moz-bool-pref: "theme.no_gaps.split.outline") {
        hbox.browserSidebarContainer[zen-split="true"] {
          margin: 1px !important;
        }
      }
  
      #zen-appcontent-wrapper:has(
          > #zen-tabbox-wrapper
            > #tabbrowser-tabbox
            > #tabbrowser-tabpanels[zen-split-view="true"]
        ) {
        margin: 0 !important;
  
        & > #zen-tabbox-wrapper {
          margin: 0 !important;
        }
      }
    }
  }
  
}
/* Name: Better Find Bar */
/* Description: Improves the find bar, making it floating with theme match and customization. */
/* Author: @RobotoSkunk */
@-moz-document url-prefix("chrome:") {
  
  :root {
  	--better-findbar-transform-translateY: 150px;
  	--better-findbar-transform-translateX: -50%;
  	--better-findbar-position-top: auto;
  	--better-findbar-position-bottom: 15px;
  	--better-findbar-position-left: 50%;
  	--better-findbar-position-right: auto;
  }
  .browserContainer {
  	overflow: clip
  }
  
  findbar {
  	display: flex !important;
  
  	border-radius: var(--zen-border-radius) !important;
  	margin: 0px !important;
  
  	width: 90% !important;
  	max-width: calc(var(--theme-better_find_bar-textbox_width) * 1px); 
  
  	height: auto !important;
  
  	position: absolute !important;
  	top: var(--better-findbar-position-top);
  	bottom: var(--better-findbar-position-bottom);
  	left: var(--better-findbar-position-left);
  	right: var(--better-findbar-position-right);
  	transform: translateX(var(--better-findbar-transform-translateX)) translateY(0);
  
  	overflow: unset !important;
  	box-shadow: var(--box-shadow-10);
  
  	background: var(--zen-colors-tertiary) !important;
  	border: 1px solid var(--zen-colors-border) !important;
  
  	transition: transform 0.35s ease !important;
  
  	visibility: visible !important;
  	opacity: 1 !important;
  
  	& .findbar-container {
  		flex-wrap: wrap;
  		overflow-x: auto !important;
  		height: auto !important;
  
  		row-gap: 10px;
  
  		& > :first-child {
  			width: 100% !important;
  		}
  
  		& .findbar-textbox {
  			flex-grow: 1;
  		}
  	}
  
  	&[hidden="true"] {
  		transform: translateX(var(--better-findbar-transform-translateX)) translateY(var(--better-findbar-transform-translateY));
  	}
  
  	@starting-style {
  		transform: translateX(var(--better-findbar-transform-translateX)) translateY(var(--better-findbar-transform-translateY));
  	}
  }
  
  /* Horizontal Position */
  body:has(
  		#theme-Better-Find-Bar[theme-better_find_bar-horizontal_position="left"]
  	) {
  	--better-findbar-transform-translateX: 0%;
  	--better-findbar-position-left: 15px;
  	--better-findbar-position-right: auto;
  }
  
  body:has(
  		#theme-Better-Find-Bar[theme-better_find_bar-horizontal_position="right"]
  	) {
  	--better-findbar-transform-translateX: 0%;
  	--better-findbar-position-left: auto;
  	--better-findbar-position-right: 15px;
  }
  
  /* Vertical Position */
  body:has(
  		#theme-Better-Find-Bar[theme-better_find_bar-vertical_position="top"]
  	) {
  	--better-findbar-transform-translateY: -150px;
  	--better-findbar-position-bottom: auto;
  	--better-findbar-position-top: 15px;
  }
  
  
  /* Background blur */
  @media (-moz-bool-pref: "theme.better_find_bar.transparent_background") {
  	findbar, findbar .findbar-textbox:not([status="notfound"]) {
  		backdrop-filter: blur(8px);
  
  		background: color-mix(in hsl, var(--zen-colors-tertiary), transparent 30%) !important;
  	}
  
  	findbar .findbar-textbox:not([status="notfound"]) {
  		background: color-mix(in hsl, var(--zen-colors-tertiary), transparent 10%) !important;
  	}
  }
  
  /* Hide highlight checkbox */
  body:has(
  		#theme-Better-Find-Bar[theme-better_find_bar-hide_highlight="hide_immediately"]
  	) {
  	findbar .findbar-highlight {
  		display: none !important;
  	}
  }
  
  body:has(
  		#theme-Better-Find-Bar[theme-better_find_bar-hide_highlight="hide_on_disable"]
  	) {
  	findbar checkbox.findbar-highlight:not([checked]) {
  		display: none !important;
  	}
  }
  
  /* Hide match case checkbox */
  body:has(
  		#theme-Better-Find-Bar[theme-better_find_bar-hide_match_case="hide_immediately"]
  	) {
  	findbar .findbar-case-sensitive {
  		display: none !important;
  	}
  }
  
  body:has(
  		#theme-Better-Find-Bar[theme-better_find_bar-hide_match_case="hide_on_disable"]
  	) {
  	findbar checkbox.findbar-case-sensitive:not([checked]) {
  		display: none !important;
  	}
  }
  
  /* Hide match diacritics checkbox */
  body:has(
  		#theme-Better-Find-Bar[theme-better_find_bar-hide_match_diacritics="hide_immediately"]
  	) {
  	findbar .findbar-match-diacritics {
  		display: none !important;
  	}
  }
  
  body:has(
  		#theme-Better-Find-Bar[theme-better_find_bar-hide_match_diacritics="hide_on_disable"]
  	) {
  	findbar checkbox.findbar-match-diacritics:not([checked]) {
  		display: none !important;
  	}
  }
  
  /* Hide whole words checkbox */
  body:has(
  		#theme-Better-Find-Bar[theme-better_find_bar-hide_whole_words="hide_immediately"]
  	) {
  	findbar .findbar-entire-word {
  		display: none !important;
  	}
  }
  
  body:has(
  		#theme-Better-Find-Bar[theme-better_find_bar-hide_whole_words="hide_on_disable"]
  	) {
  	findbar .findbar-entire-word:not([checked]) {
  		display: none !important;
  	}
  }
  
  /* Hide find status label */
  @media (-moz-bool-pref: "theme.better_find_bar.hide_find_status") {
  	findbar .findbar-find-status {
  		display: none !important;
  	}
  }
  
  /* Hide found matches label */
  @media (-moz-bool-pref: "theme.better_find_bar.hide_found_matches") {
  	findbar .findbar-label.found-matches {
  		display: none !important;
  	}
  }
  
}
/* Name: Better Tab Indicators */
/* Description: This Zen Theme provides some alternative styling for the tabs on the sidebar. */
/* Author: @TheRealMG */
@-moz-document url-prefix("chrome:") {
  @media (-moz-bool-pref: "zen.tabs.vertical") {
    /* Tab Borders Based on Preference */
    .tabbrowser-tab:not([pinned]):is([multiselected="true"], [selected]) {
      &:has(#uc-tabs[uc-tabs-preferred_color="primary"]) .tab-background {
        border: 2px solid var(--zen-colors-primary) !important;
      }
      &:has(#uc-tabs[uc-tabs-preferred_color="secondary"]) .tab-background {
        border: 2px solid var(--zen-colors-secondary) !important;
      }
      &:has(#uc-tabs[uc-tabs-preferred_color="tertiary"]) .tab-background {
        border: 2px solid var(--zen-colors-tertiary) !important;
      }
      &:has(#uc-tabs[uc-tabs-preferred_color="border"]) .tab-background {
        border: 2px solid var(--zen-colors-border) !important;
      }
      &:has(#uc-tabs[uc-tabs-preferred_color="custom"]) .tab-background {
        @media (prefers-color-scheme: light) {
          border: 2px solid var(--uc-tabs-preferred_color, #000000) !important; /* Fallback to black */
        }
        @media (prefers-color-scheme: dark) {
          border: 2px solid var(--uc-tabs-preferred_color, #ffffff) !important; /* Fallback to white */
        }
      }
    }
  
    /* Background Modification for Selected Tab */
    #tabbrowser-tabs {
      & .tabbrowser-tab {
        &[selected] .tab-background {
          background: color-mix(
            in srgb,
            var(--zen-colors-secondary) 40%,
            transparent
          ) !important;
        }
      }
    }
  
    /* Dimming Tab Text When Unloaded */
    @media (-moz-bool-pref: "uc.tabs.dim_unloaded") {
      #tabbrowser-tabs {
        & .tabbrowser-tab {
          @media (-moz-bool-pref: "zen.tabs.dim-pending") {
            &[pending="true"] .tab-text {
              opacity: 0.5; /* Dimmed text for pending tabs */
            }
          }
        }
      }
    }
  }
  
}
/* Name: Load Bar */
/* Description: Creates a sleek loading bar and mute status for single toolbar mode. */
/* Author: @Tanay-Kar */
@-moz-document url-prefix("chrome:") {
  @media (-moz-bool-pref: "zen.view.use-single-toolbar") {
    #zen-appcontent-wrapper {
      position: relative !important;
      background-color: transparent !important;
    }
  
    #zen-appcontent-wrapper::before {
      content: "" !important;
      position: absolute !important;
      top: 2px !important;
      left: 6px !important;
      height: 4px !important;
      max-width: calc(100% - 16px) !important;
      width: var(--bar-pcent) !important;
      background-color: var(--bar-colour) !important;
      border-radius: 4px;
      pointer-events: none !important;
      transition:
        background-color 0.2s ease-in-out,
        width 0.5s ease-in-out !important;
    }
  
    #main-window {
      &:has(.tabbrowser-tab[selected][busy]) {
        --bar-colour: white;
        --bar-pcent: 10%;
      }
  
      &:has(.tabbrowser-tab[selected][busy][pendingicon]) {
        --bar-colour: white;
        --bar-pcent: 50%;
      }
  
      &:has(.tabbrowser-tab[selected][busy][pendingicon][progress]) {
        --bar-colour: white;
        --bar-pcent: 80%;
      }
  
      &:has(.tabbrowser-tab[selected][busy][progress]) {
        --bar-colour: white;
        --bar-pcent: 100%;
      }
  
      &:has(.tabbrowser-tab[selected][muted]:not([busy])) {
        --bar-colour: orangered;
        --bar-pcent: 100%;
      }
  
      &:has(.tabbrowser-tab[selected]:not([muted]):not([busy])) {
        --bar-colour: transparent;
        --bar-pcent: 0%;
      }
    }
  }
  
}
/* Name: Cleaner Extensions */
/* Description: Clean up the Unified Extension Menu, grid the buttons, show the puzzle button only on hover.. or hide it completely */
/* Author: @KiKaraage */
@-moz-document url-prefix("chrome:") {
  @media not (-moz-bool-pref: "mod.extension.viewgrid") {
    /* Hide header, description, extension captions */
    #unified-extensions-view box.panel-header,
    #unified-extensions-view > :nth-child(2),
    #unified-extensions-description,
    #unified-extensions-messages-container,
    .unified-extensions-item-message-deck {
      display: none !important;
    }
    /* Reduce the panel size and padding */
    #unified-extensions-view {
      width: var(--menu-panel-width) !important;
    }
    panelview .unified-extensions-item-action-button {
      padding-inline: 10px !important;
      padding-block: 0px !important;
    }
    #unified-extensions-manage-extensions {
      margin-inline: 4px !important;
      padding: 8px 10px !important;
      margin-block-end: 4px !important;
    }
    #unified-extensions-panel .unified-extensions-item {
      margin-block: 2px !important;
    }
    #unified-extensions-view .unified-extensions-item-action-button:hover {
      background-color: color-mix(in srgb, currentColor 3%, transparent) !important;
    }
    #unified-extensions-view .unified-extensions-item-menu-button.subviewbutton,
    .unified-extensions-item-row-wrapper {
      padding: 0 !important;
    }
    #unified-extensions-view .unified-extensions-item-menu-button.subviewbutton > .toolbarbutton-icon {
      opacity: 0 !important;
      transition: 0.2s ease !important;
    }
    #unified-extensions-panel .unified-extensions-item:hover {
      .unified-extensions-item-menu-button.subviewbutton > .toolbarbutton-icon {
        opacity: 0.85 !important;
      }
      background-color: transparent !important;
    }
    #unified-extensions-view .unified-extensions-item-action-button .panel-no-padding .webextension-browser-action {
      padding: 0 !important;
    }
    #unified-extensions-view .toolbar-menupopup :is(menu, menuitem), .subview-subheader, panelview .toolbarbutton-1, .subviewbutton, .widget-overflow-list .toolbarbutton-1 {
      max-height: 3em !important;
    }
    #unified-extensions-view .subviewbutton-iconic {
      & > .toolbarbutton-icon {
        width: 1.2em !important;
        height: 1.2em !important;
        padding: 0.7em !important;
      }
    }
  }
  
  @media (-moz-bool-pref: "mod.extension.viewgrid") {
    /* Set width of Unified Extension View */
    #unified-extensions-view {
      width: calc(var(--menu-panel-width) - 75px) !important;
    }
  
    /* Hide the header as well as texts and settings icon for each extension, so only icons are visible */
    #unified-extensions-description,
    #unified-extensions-view .panel-header,
    #unified-extensions-view > :nth-child(2),
    .unified-extensions-item-name,
    .unified-extensions-item-message,
    .unified-extensions-item-message-hover,
    .unified-extensions-item-message-hover-menu-button,
    .unified-extensions-item-menu-button {
      display: none !important;
    }
  
    /* Arrange extensions in a properly centered 4-column grid */
    #overflowed-extensions-list, #unified-extensions-area, .unified-extensions-list {
      display: grid !important;
      grid-template-columns: repeat(4, 1fr) !important; /* 4 columns */
      justify-content: left !important;
      align-items: center !important;
      margin-inline: 7px !important;
      width: 0px !important;
      gap: 7px 0px;
    }
  
    #unified-extensions-area {
      padding-block: 7px !important;
    }
  
    /* Ensure the extensions are fully centered with squircle hover shape, and reduce unneeded margins/paddings  */
    .unified-extensions-item {
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      padding-block: 4px !important;
      border-radius: 12px !important;
    }
    .unified-extensions-item-icon, .unified-extensions-item .webextension-browser-action.subviewbutton > .toolbarbutton-badge-stack {
      margin: 0px !important;
    }
    panelview .unified-extensions-item-action-button {
      padding: 5px 10px !important;
    }
    
    /* Set proper padding for the Manage Extensions button */
    #unified-extensions-manage-extensions {
      padding: 8px 16px !important;
      margin-block-end: 4px !important;
    }
    
    /* Set lighter opacity for passive extension buttons */
    .unified-extensions-item-icon {
      opacity: 0.3;
    }
    .unified-extensions-item-action-button:hover {
      background-color: color-mix(in srgb, currentColor 3%, transparent) !important;
    }
  
    #unified-extensions-view toolbarseparator {
      margin-top: 8px !important;
    }
  }
  
  @media (-moz-bool-pref: "mod.extension.hide") {
    :root:not([customizing]){
      #unified-extensions-button {
        opacity: 0 !important;
        transition: opacity 0.2s ease;
      }
  
      #unified-extensions-button:hover {
        opacity: 1 !important;
      }
    }
  }
  
  @media (-moz-bool-pref: "mod.extension.remove") {
    :root:not([customizing]){
      #unified-extensions-button {
        display: none !important;
      }
    }
  }
  
}
/* Name: SuperPins */
/* Description: This Zen Mod enhances pinned tabs/Essentials, by making some UI/UX changes. */
/* Author: @CosmoCreeper */
@media (-moz-bool-pref: "zen.tabs.vertical") {

    /* Prevents stuff from being clipped off from bottom of Essentials */
    #zen-essentials-container, .zen-essentials-container {
        overflow: visible !important;
    }

    /* Makes essentials transparent (when toggled) */
    :root:has(#theme-SuperPins[uc-essentials-color-scheme="transparent"]) {
        .tabbrowser-tab[zen-essential="true"]:not(:hover):not([selected="true"]) .tab-stack .tab-background {
            background-color: transparent !important;
        }
    }

    @media (-moz-bool-pref: "zen.view.sidebar-expanded") and (not (-moz-bool-pref: "zen.view.sidebar-expanded.on-hover")) {

        /* Default essentials-width and essentials-gap variables (set to browser default) to fix some bugs */
        :root {
            --essentials-width: 49px;
            --essentials-gap: calc(var(--zen-toolbox-padding) - 2px);
        }

        /* Set width of Essentials (Dropdown) */
        :root:has(#theme-SuperPins[uc-essentials-width="Thin"]) {
            --essentials-width: 50px;
        }

        :root:has(#theme-SuperPins[uc-essentials-width="Normal"]) {
            --essentials-width: 60px;
        }

        :root:has(#theme-SuperPins[uc-essentials-width="Wide"]) {
            --essentials-width: 70px;
        }

        :root:has(#theme-SuperPins[uc-essentials-width="Thin"],
            #theme-SuperPins[uc-essentials-width="Normal"],
            #theme-SuperPins[uc-essentials-width="Wide"]) {
            #zen-essentials-container, .zen-essentials-container {
                grid-template-columns: repeat(auto-fit,
                        minmax(var(--essentials-width), auto)) !important;
            }

            .zen-essentials-container {
                max-width: calc(100% - var(--zen-toolbox-padding) * 2);
            }

            @media (-moz-bool-pref: "uc.essentials.grid-count") {
                #zen-essentials-container, .zen-essentials-container {
                    grid-template-columns: repeat(var(--mod-superpins-essentials-grid-count), minmax(var(--essentials-width), auto)) !important;
                }
            }
        }

        /* Set margin between Essentials (Dropdown) */
        :root:has(#theme-SuperPins[uc-essentials-gap="Small"]) {
            --essentials-gap: 0px;
        }

        :root:has(#theme-SuperPins[uc-essentials-gap="Normal"]) {
            --essentials-gap: 2px;
        }

        :root:has(#theme-SuperPins[uc-essentials-gap="Big"]) {
            --essentials-gap: 5px;
        }

        :root:has(#theme-SuperPins[uc-essentials-gap="Small"],
            #theme-SuperPins[uc-essentials-gap="Normal"],
            #theme-SuperPins[uc-essentials-gap="Big"]) {
            #zen-essentials-container, .zen-essentials-container {
                gap: var(--essentials-gap) var(--essentials-gap) !important;
            }
        }
    }

    :root:has(#theme-SuperPins[uc-tabs-show-separator="never"]) {
        .vertical-pinned-tabs-container-separator {
            display: none !important;
        }

        #vertical-pinned-tabs-container>.zen-workspace-tabs-section,
        .zen-workspace-pinned-tabs-section {
            &:has(> :nth-child(2)) {
                padding-bottom: 5px !important;
            }
        }
    }

    /* Enables legacy layout for pinned tabs (icon only in grid) */
    @media (-moz-bool-pref: "uc.pins.legacy-layout") {
        #navigator-toolbox[zen-sidebar-expanded="true"] {
            & #tabbrowser-tabs {
                & .tabbrowser-tab {
                    &[zen-pinned-changed="true"]:not([zen-essential])
                    > .tab-stack
                    > .tab-content
                    > .tab-icon-stack {
                    position: unset !important;
                    top: unset !important;
                    }
                }
            }
        }

        #vertical-pinned-tabs-container, .zen-workspace-pinned-tabs-section {
            .tabbrowser-tab[pinned]  {
                .tab-close-button, .tab-reset-button,
                .tab-reset-pin-button, .tab-label-container {
                    display: none !important;
                }
            }
        }

        /*disable icon shift when tab was renamed*/
        #navigator-toolbox[zen-sidebar-expanded="true"] {
            & #vertical-pinned-tabs-container>.zen-workspace-tabs-section,
            & .zen-workspace-pinned-tabs-section {
                & .tabbrowser-tab>.tab-stack>.tab-content>.tab-icon-stack {
                    left: unset !important;
                }
            }
        }

        /* Make pinned tabs auto-grow to span full width of row */
        @media (-moz-bool-pref: "uc.pins.auto-grow") {
            #vertical-pinned-tabs-container>.zen-workspace-tabs-section,
            .zen-workspace-pinned-tabs-section {
                display: flex !important;
                flex-wrap: wrap !important;
                flex-direction: row !important;

                &>.tabbrowser-tab {
                    width: auto !important;
                    min-width: var(--tab-pinned-min-width-expanded) !important;
                    flex: 1 1 auto !important;
                }

                &>tab-group {
                    width: 100% !important;
                }
            }

            @media (-moz-bool-pref: "uc.pins.grid-count") {
                /* Logic for pinned tabs that have auto-grow and grid-count. Must use +1 to fix */
                #vertical-pinned-tabs-container>.zen-workspace-tabs-section,
                .zen-workspace-pinned-tabs-section {
                    &>.tabbrowser-tab {
                        width: calc(100% / (var(--mod-superpins-pins-grid-count) + 1)) !important;
                    }
                }
            }
        }

        @media (not (-moz-bool-pref: "uc.pins.auto-grow")) {
            #vertical-pinned-tabs-container>.zen-workspace-tabs-section,
            .zen-workspace-pinned-tabs-section {
                grid-template-columns: repeat(auto-fit, minmax(var(--tab-pinned-min-width-expanded), auto)) !important;
                display: grid !important;
            }

            @media (-moz-bool-pref: "uc.pins.grid-count") {
                #vertical-pinned-tabs-container>.zen-workspace-tabs-section,
                .zen-workspace-pinned-tabs-section {
                    grid-template-columns: repeat(var(auto-fit, --mod-superpins-pins-grid-count), minmax(var(--tab-pinned-min-width-expanded), auto)) !important;
                }
            }
        }

        /*The actual grid layout*/
        #vertical-pinned-tabs-container>.zen-workspace-tabs-section,
        .zen-workspace-pinned-tabs-section {
            &:has(> :nth-child(2)) {
                margin: 0 var(--zen-toolbox-padding) !important;
                padding: 0 var(--zen-toolbox-padding) !important;
                overflow: visible !important;
                padding-bottom: 17px !important;
                gap: 3px 3px !important;
                max-width: calc(100% - var(--zen-toolbox-padding) * 2) !important;
            }

            .tabbrowser-tab {
                --toolbarbutton-inner-padding: 0;
            }

            &>*:not(tab-group) {
                margin: 0 !important;
            }

            &>tab-group .tab-icon-stack {
                margin: auto !important;
            }
        }

        .zen-workspace-pinned-tabs-section {
            position: relative !important;

            .tab-icon-stack {
                margin-left: 50% !important;
                transform: translateX(-50%) !important;
            }
        }

        .vertical-pinned-tabs-container-separator {
            position: absolute !important;
            bottom: 7px !important;
            left: 50% !important;
            transform: translateX(-50%) !important;
            width: calc(100% - var(--zen-toolbox-padding) * 2) !important;
        }
    }

    /* Make Essentials look more box like */
    @media (-moz-bool-pref: "uc.essentials.box-like-corners") {
        .tabbrowser-tab[zen-essential="true"] .tab-stack .tab-background {
            border-radius: 5px !important;
        }
    }

    /* If Essentials have a grid count but do not have auto-grow on */
    @media (-moz-bool-pref: "uc.essentials.grid-count") {
        #zen-essentials-container, .zen-essentials-container {
            grid-template-columns: repeat(var(--mod-superpins-essentials-grid-count), minmax(var(--essentials-width), auto)) !important;
        }
    }

    /* Make Essentials auto-grow to span full width of a row */
    @media (-moz-bool-pref: "uc.essentials.auto-grow") {
        .tabbrowser-tab[zen-essential="true"] {
            width: auto !important;
            min-width: var(--essentials-width) !important;
            flex: 1 1 auto !important;
        }

        @media (-moz-bool-pref: "uc.essentials.grid-count") {

            /* For auto-grow with grid-count. must use +1 to fix a bug */
            .tabbrowser-tab[zen-essential="true"] {
                width: calc(100% / (var(--mod-superpins-essentials-grid-count) + 1)) !important;
            }
        }

        #zen-essentials-container, .zen-essentials-container {
            display: flex !important;
            flex-wrap: wrap !important;
            flex-direction: row !important;
            width: 100% !important;
        }

        #navigator-toolbox {
            min-width: min-content !important;
        }
    }

    /* Puts Essentials at the bottom */
    :root:has(#theme-SuperPins[uc-essentials-position="bottom"]) {
        #tabbrowser-arrowscrollbox {
            position: relative !important;
            overflow-x: hidden !important;
        }
        
        .zen-essentials-container {
            position: relative !important;
            margin-top: auto !important;
            padding-top: 8px !important;
        }

        #zen-essentials-container, #zen-essentials {
            order: 999 !important;
        }

        #tabbrowser-arrowscrollbox > zen-workspace {
            width: 100% !important;
            padding-top: 0 !important;
        }

        #navigator-toolbox[zen-sidebar-expanded="true"] {
            .zen-essentials-container {
                min-width: 100% !important;
                width: 100% !important;
            }
        }
    }

    /* Adds a little bg to the pinned tabs */
    @media (-moz-bool-pref: "uc.pins.bg") {
        @media (prefers-color-scheme: light) {
            :root {
                --pins-bg-percentage: 40%;
            }
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --pins-bg-percentage: 7%;
            }
        }

        /* background color of pinned tabs in a normal state (not hovered/selected) */
        .tabbrowser-tab[pinned]:not([zen-essential="true"]) .tab-stack .tab-background {
            background-color: color-mix(in srgb, white var(--pins-bg-percentage), transparent) !important;
        }

        /* background color when hovering */
        .tabbrowser-tab[pinned]:not([zen-essential="true"]):hover .tab-stack .tab-background {
            background-color: color-mix(in srgb, white calc(var(--pins-bg-percentage) + 3%), transparent) !important;
        }

        /* background color when selected */
        .tabbrowser-tab[pinned]:not([zen-essential="true"])[selected="true"] .tab-stack .tab-background,
        .tabbrowser-tab[pinned]:not([zen-essential="true"])[multiselected="true"] .tab-stack .tab-background {
            background-color: color-mix(in srgb, white calc(var(--pins-bg-percentage) + 16%), transparent) !important;
        }

        /* background color when selected and hovering*/
        .tabbrowser-tab[pinned]:not([zen-essential="true"])[selected="true"]:hover .tab-stack .tab-background,
        .tabbrowser-tab[pinned]:not([zen-essential="true"])[multiselected="true"]:hover .tab-stack .tab-background {
            background-color: color-mix(in srgb, white calc(var(--pins-bg-percentage) + 18%), transparent) !important;
        }
    }

    /* Adds border to Pins/Essentials (when toggled) */
    :root:has(#theme-SuperPins[uc-superpins-border="essentials"]) {
        #zen-essentials-container, .zen-essentials-container {
            & .tabbrowser-tab[zen-essential="true"] .tab-stack .tab-background {
                border: 1px solid light-dark(color-mix(in srgb, var(--zen-colors-secondary) 80%, black),
                        color-mix(in srgb, var(--zen-colors-secondary) 80%, white)) !important;
            }
        }
    }

    :root:has(#theme-SuperPins[uc-superpins-border="pins"]) {
        .tabbrowser-tab[pinned]:not([zen-essential="true"]) .tab-stack .tab-background,
        #vertical-pinned-tabs-container>.zen-workspace-tabs-section tab-group,
        .zen-workspace-pinned-tabs-section tab-group {
            border: 1px solid light-dark(color-mix(in srgb, var(--zen-colors-secondary) 80%, black),
                    color-mix(in srgb, var(--zen-colors-secondary) 80%, white)) !important;
        }
    }

    :root:has(#theme-SuperPins[uc-superpins-border="both"]) {
        .tabbrowser-tab[pinned] .tab-stack .tab-background,
        #vertical-pinned-tabs-container>.zen-workspace-tabs-section tab-group,
        .zen-workspace-pinned-tabs-section tab-group {
            border: 1px solid light-dark(color-mix(in srgb, var(--zen-colors-secondary) 80%, black),
                    color-mix(in srgb, var(--zen-colors-secondary) 80%, white)) !important;
        }
    }

    /* Let pinned tabs have the same selected styling as essentials */
    @media (-moz-bool-pref: "uc.pins.essentials-layout") {

        /* Specific query to overwrite previous one */
        #vertical-pinned-tabs-container>.zen-workspace-tabs-section,
        .zen-workspace-pinned-tabs-section {
            grid-template-columns: repeat(auto-fit, minmax(var(--essentials-width), auto)) !important;

            &:has(> :nth-child(2)) {
                gap: var(--essentials-gap) var(--essentials-gap) !important;
            }

            &>.tabbrowser-tab {
                min-width: var(--essentials-width) !important;
            }
        }

        @media (-moz-bool-pref: "uc.pins.grid-count") {
            #vertical-pinned-tabs-container>.zen-workspace-tabs-section,
            .zen-workspace-pinned-tabs-section {
                grid-template-columns: repeat(var(auto-fit, --mod-superpins-pins-grid-count), minmax(var(--essentials-width), auto)) !important;
            }
        }
    }

    /* pins height */
    :root {
        --pins-height: var(--tab-min-height);
    }

    :root:has(#theme-SuperPins[uc-pinned-height="small"]) {
        --pins-height: 40px;
    }

    :root:has(#theme-SuperPins[uc-pinned-height="normal"]) {
        --pins-height: 50px;
    }

    :root:has(#theme-SuperPins[uc-pinned-height="large"]) {
        --pins-height: 60px;
    }

    :root:has(#theme-SuperPins[uc-pinned-height="small"]),
    :root:has(#theme-SuperPins[uc-pinned-height="normal"]),
    :root:has(#theme-SuperPins[uc-pinned-height="large"]) {
        .zen-workspace-pinned-tabs-section .tabbrowser-tab {
            height: var(--pins-height) !important;
        }
    }

    @media (-moz-bool-pref: "uc.essentials.same-height") {
        .tabbrowser-tab[zen-essential] {
            height: var(--pins-height) !important;
        }

        .tabbrowser-tab[zen-essential] .tab-background {
            min-height: var(--pins-height) !important;
        }
    }

    /* favicon size */
    :root:has(#theme-SuperPins[uc-favicon-size="small"]) {

        .tab-icon-pending,
        .tab-icon-image,
        .tab-sharing-icon-overlay,
        .tab-icon-overlay {
            height: 16px !important;
            width: 16px !important;
        }

        /* No need to scale tab throbber as it is same size. */
    }

    :root:has(#theme-SuperPins[uc-favicon-size="normal"]) {

        .tab-icon-pending,
        .tab-icon-image,
        .tab-sharing-icon-overlay,
        .tab-icon-overlay {
            height: 18px !important;
            width: 18px !important;
        }

        .tab-throbber {
            transform: scale(1.125) !important;
        }
    }

    :root:has(#theme-SuperPins[uc-favicon-size="large"]) {

        .tab-icon-pending,
        .tab-icon-image,
        .tab-sharing-icon-overlay,
        .tab-icon-overlay {
            height: 20px !important;
            width: 20px !important;
        }

        .tab-throbber {
            transform: scale(1.25) !important;
        }
    }

    /* workspace icons size */
    :root:has(#theme-SuperPins[uc-workspace-icon-size="x-small"]) {
        #zen-workspaces-button {
            font-size: x-small !important;
        }
    }

    :root:has(#theme-SuperPins[uc-workspace-icon-size="small"]) {
        #zen-workspaces-button {
            font-size: small !important;
        }
    }

    :root:has(#theme-SuperPins[uc-workspace-icon-size="medium"]) {
        #zen-workspaces-button {
            font-size: medium !important;
        }
    }

    :root:has(#theme-SuperPins[uc-workspace-icon-size="large"]) {
        #zen-workspaces-button {
            font-size: large !important;
        }
    }

    /* current workspace icons size */
    :root:has(#theme-SuperPins[uc-workspace-current-icon-size="small"]) {
        .zen-current-workspace-indicator .zen-current-workspace-indicator-icon {
            font-size: 12px !important;
        }
    }

    :root:has(#theme-SuperPins[uc-workspace-current-icon-size="normal"]) {
        .zen-current-workspace-indicator .zen-current-workspace-indicator-icon {
            font-size: 14.5px !important;
        }
    }

    :root:has(#theme-SuperPins[uc-workspace-current-icon-size="large"]) {
        .zen-current-workspace-indicator .zen-current-workspace-indicator-icon {
            font-size: 16px !important;
        }
    }

    /* Increase margin below Essentials in case the workspace indicator is not visible. */
    @media (not (-moz-bool-pref: "zen.workspaces.show-workspace-indicator")) {
        .zen-current-workspace-indicator {
            display: none !important;
        }

        .zen-essentials-container {
            padding-bottom: 5px;
        }

        :root:has(#theme-SuperPins[uc-tabs-show-separator="essentials-shown"]) {
            zen-workspace[active="true"]:has(.zen-workspace-pinned-tabs-section .tabbrowser-tab) {
                &:has(~ #zen-tabs-wrapper #zen-browser-tabs-container #vertical-pinned-tabs-container .zen-workspace-tabs-section[active="true"] .tabbrowser-tab) {
                    margin-top: 6px !important;
                }
            }

            #zen-essentials-container, .zen-essentials-container {
                &:has(> :nth-child(1))~#zen-tabs-wrapper #zen-browser-tabs-container #vertical-pinned-tabs-container>.zen-workspace-tabs-section {
                    min-height: 20px !important;
                }
            }

            #zen-essentials-container, .zen-essentials-container {
                &:has(> :nth-child(1))~#zen-tabs-wrapper #zen-browser-tabs-container #vertical-pinned-tabs-container>.zen-workspace-tabs-section .vertical-pinned-tabs-container-separator {
                    max-height: unset !important;
                }
            }
        }

        :root:not(:has(#theme-SuperPins[uc-tabs-show-separator="essentials-shown"])) {
            #tabbrowser-tabs:has(.zen-essentials-container) #zen-tabs-wrapper {
                margin-top: 6px !important;
            }
        }
    }

    /* Ensure that the browser uses SuperPins dim rather than the built-in dim-pending. */
    .tab-icon-image[pending="true"],
    .tabbrowser-tab[pending="true"] .tab-text {
        opacity: 1 !important;
    }

    /* If dim-type is set to icons. */
    :root:has(#theme-SuperPins[uc-tabs-dim-type="icons"]) {
        .tab-icon-image[pending="true"] {
            opacity: 0.5 !important;
        }
    }

    /* If dim-type is set to text. */
    :root:has(#theme-SuperPins[uc-tabs-dim-type="text"]) {
        .tabbrowser-tab[pending="true"] .tab-text {
            opacity: 0.5 !important;
        }
    }

    /* If dim-type is set to icon + text. */
    :root:has(#theme-SuperPins[uc-tabs-dim-type="both"]) {

        .tab-icon-image[pending="true"],
        .tabbrowser-tab[pending="true"] .tab-text {
            opacity: 0.5 !important;
        }
    }

    @media (-moz-bool-pref: "uc.tabs.strikethrough-on-pending") {
        .tabbrowser-tab[pending="true"] .tab-text {
            text-decoration: line-through !important;
        }
    }

    @media (-moz-bool-pref: "uc.pins.stay-at-top") {
        zen-workspace > arrowscrollbox.workspace-arrowscrollbox {
            overflow-y: hidden !important;
            flex-basis: 100%;
        }

        #tabbrowser-arrowscrollbox .zen-workspace-pinned-tabs-section {
            flex: 0 1 0;
        }
        
        #tabbrowser-arrowscrollbox .zen-workspace-normal-tabs-section {
            flex: 1 1 0;
            overflow-y: auto !important;
        }
    }

    @media (-moz-bool-pref: "uc.pins.active-bg") {
        .zen-workspace-tabs-section .tabbrowser-tab[pinned][selected="true"] .tab-stack .tab-background {
            background-color: var(--mod-superpins-pins-active-bg) !important;
            opacity: 1 !important;
        }

        .zen-workspace-tabs-section .tabbrowser-tab[pinned][selected="true"]:hover .tab-stack .tab-background {
            opacity: 0.8 !important;
            background-color: var(--mod-superpins-pins-active-bg) !important;
        }
    }

    @media (-moz-bool-pref: "zen.workspaces.indicator-name-center") {
        .zen-current-workspace-indicator-name {
            position: absolute;
            left: 0;
            text-align: center;
            width: 100%;
        }
    }

    :root:has(#theme-SuperPins[zen-workspaces-indicator-position="top"]) {
        .zen-current-workspace-indicator {
            top: 0;
        }

        .zen-essentials-container {
            margin-top: 48px;
        }

        .workspace-arrowscrollbox {
            margin-top: 50px;
        }

        zen-workspace {
            padding-top: 0 !important;
        }
    }

    :root:has(#theme-SuperPins[zen-workspaces-indicator-position="bottom"]) {
        .zen-current-workspace-indicator {
            position: fixed !important;
            bottom: 0;
            z-index: 200;
        }

        zen-workspace {
            margin-top: 2px;
        }
    }

    @media (-moz-bool-pref: "uc.remove-sidebar-scrollbar") {
        scrollbox:nth-child(5), #tabbrowser-arrowscrollbox .zen-workspace-normal-tabs-section {
            scrollbar-width: none !important;
        }
    }
}

/* Name: Custom uiFont */
/* Description: Customize the interface font, the default is consistent with the serif font in the settings. */
/* Author: @lindongbin */

:root:has(#theme-Custom-uiFont[theme-custom_uifont-default="Serif"]) {
    * {font-family: serif !important;}
}
:root:has(#theme-Custom-uiFont[theme-custom_uifont-default="Custom"]) {
    * {font-family: var(--theme-custom_uifont-custom) !important; text-shadow: var(--theme-custom_uifont-shadow) !important;}
}

/* End of Zen Mods */
